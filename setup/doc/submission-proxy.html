<html>
<head>
<title>Submission Proxy Configuration</title>
<style>
table          { border-collapse: collapse;
                 border: 1px solid; 
		 margin-left: 2em;
		 margin-right: 2em
	       }	
td             { border: 1px solid; padding: 1em; }
th             { border: 1px solid; padding: 1em; }
</style>
</head>

<body>
<h1>How to Configure the Submission Proxy Service</h1>
		
<p>
The Submission Proxy service is used by local users to send mails to either 
other local users, or to other domains on the internet. The service, in turn, 
relays all submitted mails to the backend server. This service is specified by 
<a href="http://tools.ietf.org/html/rfc4409">RFC 4409, Message Submission for Mail</a>.
The combination of the Submission service of Mireka and the backend SMTP server 
constitute a <def>Message Submission Agent (MSA)</def>.
A dedicated MSA is useful for people, who are working outside of the office, 
and whose internet service provider blocks port 25.
The service usually runs on port 587. Its address is NOT published as a DNS MX 
record.
</p>

<p>
Configuration files specific to the Submission Proxy service are located in the 
<kbd>${mirekaHome}/conf/submission-proxy</kbd> directory.
</p>

<table>
<tr><th>submission.xml</th><td>primary configuration file of the Submission 
proxy service. It configures the SMTP server, the filter chain, and most 
filter parameters. In turn, it imports all the other configuration files of 
the Submission Proxy service.
Sections:
<ul>
<li>SMTP server: accepts incoming connections, sends mail transactions to the 
filter chain
<li><a href="filters.html">filter chain</a>: Filters are responsible for the 
processing of submitted mail transactions.
<li>recipient table: it does not have any interesting role in this service, it 
just specifies that all recipients must be relayed to the backend server
defined in <a href="configuration.html"<kbd>mireka.xml</kbd>.
</ul>
</td></tr>
<tr><th>authorized-ip.xml</th><td>list of ip addresses or address ranges. 
Mails can be submitted from these ip addresses without further authentication of 
the sender.
<p>This file is imported by <kbd>submission.xml</kbd>.</p></td></tr>
<tr><th><a href="global-users.html">global-users.xml</a></th><td>list of users 
who are authorized to use this submission service.</td></tr>
</table> 

</body>
</html>